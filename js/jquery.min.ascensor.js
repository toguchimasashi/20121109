/*		JQUERY.ASCENSOR.JS   |   VERSION: 1.5.2   |   DATE: 21/10/2012   	*/
(function(b,f){function q(f,r){this.element=f;this.options=b.extend({},s,r);this._defaults=s;this._name=n;this.init()}var n="ascensor",s={AscensorName:"ascensor",ChildType:"div",WindowsOn:1,Direction:"y",AscensorMap:"",AscensorFloorName:"",Time:"1000",Easing:"linear",KeyNavigation:!0,Queued:!1,QueuedDirection:"x"};q.prototype.init=function(){function n(){f.location.hash&&(s=f.location.hash.split("/").pop(),b(v).each(function(g){s===v[g]&&(c=g+1,b("."+a.options.AscensorName+"Link").removeClass(a.options.AscensorName+
"LinkActive").eq(c-1).addClass(a.options.AscensorName+"LinkActive"),j(c,a.options.Time))}))}function r(){e=b(f).width();h=b(f).height();b(t).width(e).height(h);b(d).width(e).height(h);"y"===i&&b(d).stop().scrollTop((c-1)*h);"x"===i&&(b(d).stop().scrollLeft((c-1)*e),b(t).each(function(a){b(this).css("left",a*e)}));if("chocolate"===i){var a=p[c-1].split("|");b(t).each(function(a){a=p[a].split("|");b(this).css({left:(a[1]-1)*e,top:(a[0]-1)*h})});b(d).stop().scrollLeft((a[1]-1)*e).scrollTop((a[0]-1)*
h)}}function j(g,l){"y"===i&&b(d).stop().animate({scrollTop:(g-1)*h},l,a.options.Easing);"x"===i&&b(d).stop().animate({scrollLeft:(g-1)*e},l,a.options.Easing);if("chocolate"===i){var k=p[g-1].split("|");a.options.Queued?"x"===a.options.QueuedDirection?b(d).scrollLeft()===(k[1]-1)*e?b(d).stop().animate({scrollTop:(k[0]-1)*h},l,a.options.Easing):b(d).stop().animate({scrollLeft:(k[1]-1)*e},l,a.options.Easing,function(){b(d).stop().animate({scrollTop:(k[0]-1)*h},l,a.options.Easing)}):"y"===a.options.QueuedDirection&&
(b(d).scrollTop()===(k[0]-1)*h?b(d).stop().animate({scrollLeft:(k[1]-1)*e},l,a.options.Easing):b(d).stop().animate({scrollTop:(k[0]-1)*h},l,a.options.Easing,function(){b(d).stop().animate({scrollLeft:(k[1]-1)*e},l,a.options.Easing)})):b(d).stop().animate({scrollLeft:(k[1]-1)*e,scrollTop:(k[0]-1)*h},l,a.options.Easing)}null!==a.options.AscensorFloorName&&(f.location.hash="/"+v[g-1]);b("."+a.options.AscensorName+"Link").removeClass(a.options.AscensorName+"LinkActive");b("."+a.options.AscensorName+"Link"+
g).addClass(a.options.AscensorName+"LinkActive");c=g}function u(g,d){"y"===i&&(1===g&&0===d&&(c+1<m||c+1===m)&&j(c+1,a.options.Time),-1===g&&0===d&&(1<c-1||1===c-1)&&j(c-1,a.options.Time));"x"===i&&(0===g&&-1===d&&(1<c-1||1===c-1)&&j(c-1,a.options.Time),0===g&&1===d&&(c+1<m||c+1===m)&&j(c+1,a.options.Time));if("chocolate"===i){var e=p[c-1].split("|");b.each(p,function(b){p[b]===parseInt(e[0],10)+g+"|"+(parseInt(e[1],10)+d)&&j(b+1,a.options.Time)})}}function q(a){switch(a.keyCode){case 40:u(1,0);break;
case 38:u(-1,0);break;case 37:u(0,-1);break;case 39:u(0,1)}}var a=this,d=this.element,t=b(d).children(a.options.ChildType),c=a.options.WindowsOn,m=0,e,h,p=a.options.AscensorMap.split(" & "),v=a.options.AscensorFloorName.split(" | "),i=a.options.Direction,s;b(d).css("position","absolute").width(e).height(h);b(t).width(e).height(h).each(function(){m++;b(this).attr("id",a.options.AscensorName+"Floor"+m).addClass(a.options.AscensorName+"Floor")});("x"===i||"chocolate"===i)&&b(t).css("position","absolute");
b(f).on("hashchange",function(){n()});n();a.options.KeyNavigation&&(b.browser.mozilla?b(document).keypress(q):b(document).keydown(q));b("."+a.options.AscensorName+"Link").on("click",function(){var c=b(this).attr("class"),c=c.split(" "),c=c[1],c=c.split(a.options.AscensorName+"Link"),c=parseInt(c[1],10);j(c,a.options.Time)});b("."+a.options.AscensorName+"LinkPrev").on("click",function(){c-=1;1>c&&(c=m);j(c,a.options.Time)});b("."+a.options.AscensorName+"LinkNext").on("click",function(){c+=1;c>m&&(c=
1);j(c,a.options.Time)});if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)){var x=0,w=function(){f.orientation!==x&&(x=f.orientation,r())};f.addEventListener("resize",w,!1);f.addEventListener("orientationchange",w,!1);
setInterval(w,200)}b(f).resize(function(){r()}).resize();r();j(c,1)};b.fn[n]=function(f){return this.each(function(){b.data(this,"plugin_"+n)||b.data(this,"plugin_"+n,new q(this,f))})}})(jQuery,window);